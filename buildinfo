distName='CLCommon'
distType='lib'
depends:append{'../Common', '../Tensor'}

-- CL 1.2
--macros:append{'__CL_ENABLE_EXCEPTIONS', '__CL_OVERRIDE_ERROR_STRINGS'}
-- CL 2.0
--macros:append{'CL_HPP_TARGET_OPENCL_VERSION=200', 'CL_HPP_ENABLE_EXCEPTIONS'}
-- CL 2.2
macros:append{'CL_TARGET_OPENCL_VERSION=220', 'CL_HPP_ENABLE_EXCEPTIONS', '__CL_ENABLE_EXCEPTIONS'}

if platform == 'msvc' then
	include:insert[["C:\Program Files (x86)\Intel\OpenCL SDK\6.1\include"]]
	dynamicLibs:insert'opengl32.lib'
	dynamicLibs:insert[["C:\Program Files (x86)\Intel\OpenCL SDK\6.1\lib\x64\OpenCL.lib"]]
elseif platform == 'linux' then
	include:insert'/opt/intel/opencl/include'
end
if including then
	if platform == 'osx' then 
		linkFlags = linkFlags .. ' -framework OpenCL' 
	elseif platform == 'linux' then 
		libs:insert'OpenCL' 
	end
end
